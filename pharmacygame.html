<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Pharmacygame</title>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-76P44Z8XGS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-76P44Z8XGS');
</script>
</head>
<body>
<!-- partial:index.partial.html -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script> 
<!-- Bootstrap core CSS -->
<link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">
     <link rel="stylesheet" href="./pharmacygame.css">
    


  <div class="container col-xxl-8 px-4 py-1">
    <div class="row flex-lg-row align-items-center g-1 py-5">
<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
     
        <div class ="inline">
          <div class="display-4 fw-bold">Pharmacy Hangman
            <h2>Beta version <lottie-player class ="float"src="https://assets7.lottiefiles.com/packages/lf20_jcsfwbvi.json"  background="transparent"  speed="1"  style="width: 40%;"  loop  autoplay></lottie-player>  </h2>
           <h2>Guess the medication name? </h2>
        <p class="lead">"Try and guess the medication name, play with your teams, students, learners or just for fun" 
 <br>
          If you get stuck use the hint button for extra clues.
       
  
          </p>
      </div>
      </div>
        
      </div>
    </div>
</div>
<div class = "body2">
<br>
  <br>
  <div class="wrapper">
  
</div>
<div class="align-self-start mt-5 mb-3 mt-xl-0 mb-xl-2">
    <div id="buttons">
    </div>  
    <p id="catagoryName"></p>
    <div id="hold">
    </div>
  <br>
    <p id="mylives"></p>
    <p id="clue"></p>  
     <canvas id="stickman">This Text will show if the Browser does NOT support HTML5 Canvas tag</canvas>
  <br>
  <br>
    <div class="container">
      <button id="hint">Hint</button>
      <button id="reset">Play again</button>
  <br>
      <br>
      <br>
  </div>
</div>

</div>
<footer>
  <br>
  <p class ="lead">Created by Pani Sphikas</p>
  <br>
  <p class= "lead">email:pharmtechps@gmail.com </p> <p class = "lead"> Find me on Twitter @panisphikas</p>
  </br>
</footer>


</body>
</html>
<script>
  window.onload = function () {

  var alphabet = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h',
        'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's',
        't', 'u', 'v', 'w', 'x', 'y', 'z'];
  
  var categories;         // Array of topics
  var chosenCategory;     // Selected catagory
  var getHint ;          // Word getHint
  var word ;              // Selected word
  var guess ;             // Geuss
  var geusses = [ ];      // Stored geusses
  var lives ;             // Lives
  var counter ;           // Count correct geusses
  var space;              // Number of spaces in word '-'

  // Get elements
  var showLives = document.getElementById("mylives");
  var showCatagory = document.getElementById("scatagory");
  var getHint = document.getElementById("hint");
  var showClue = document.getElementById("clue");



  // create alphabet ul
  var buttons = function () {
    myButtons = document.getElementById('buttons');
    letters = document.createElement('ul');

    for (var i = 0; i < alphabet.length; i++) {
      letters.id = 'alphabet';
      list = document.createElement('li');
      list.id = 'letter';
      list.innerHTML = alphabet[i];
      check();
      myButtons.appendChild(letters);
      letters.appendChild(list);
    }
  }
    
  
  // Select Catagory
  var selectCat = function () {
    if (chosenCategory === categories[0]) {
      catagoryName.innerHTML = "";
    } else if (chosenCategory === categories[1]) {
      catagoryName.innerHTML = "";
    } else if (chosenCategory === categories[2]) {
      catagoryName.innerHTML = "";
    }
  }

  // Create geusses ul
   result = function () {
    wordHolder = document.getElementById('hold');
    correct = document.createElement('ul');

    for (var i = 0; i < word.length; i++) {
      correct.setAttribute('id', 'my-word');
      guess = document.createElement('li');
      guess.setAttribute('class', 'guess');
      if (word[i] === "-") {
        guess.innerHTML = "-";
        space = 1;
      } else {
        guess.innerHTML = "_";
      }

      geusses.push(guess);
      wordHolder.appendChild(correct);
      correct.appendChild(guess);
    }
  }
  
  // Show lives
   comments = function () {
    showLives.innerHTML = "You have " + lives + " lives";
    if (lives < 1) {
      showLives.innerHTML = "Game Over";
      //mycodetochangetored
      let text = "Game Over";
      let result = text.fontcolor("red");
      document.getElementById("mylives").innerHTML = result;
    }
    for (var i = 0; i < geusses.length; i++) {
      if (counter + space === geusses.length) {
        showLives.innerHTML = "You Win!";
      }
    }
  }

      // Animate man
  var animate = function () {
    var drawMe = lives ;
    drawArray[drawMe]();
  }

  
   // Hangman
  canvas =  function(){

    myStickman = document.getElementById("stickman");
    context = myStickman.getContext('2d');
    context.beginPath();
    context.strokeStyle = "#fff";
    context.lineWidth = 5;
  };
  
    head = function(){
      myStickman = document.getElementById("stickman");
      context = myStickman.getContext('2d');
      context.beginPath();
      context.arc(60, 25, 10, 0, Math.PI*2, true);
      context.stroke();
    }
    
  draw = function($pathFromx, $pathFromy, $pathTox, $pathToy) {
    
    context.moveTo($pathFromx, $pathFromy);
    context.lineTo($pathTox, $pathToy);
    context.stroke(); 
}

   frame1 = function() {
     draw (0, 150, 150, 150);
   };
   
   frame2 = function() {
     draw (10, 0, 10, 600);
   };
  
   frame3 = function() {
     draw (0, 5, 70, 5);
   };
  
   frame4 = function() {
     draw (60, 5, 60, 15);
   };
  
   torso = function() {
     draw (60, 36, 60, 70);
   };
  
   rightArm = function() {
     draw (60, 46, 100, 50);
   };
  
   leftArm = function() {
     draw (60, 46, 20, 50);
   };
  
   rightLeg = function() {
     draw (60, 70, 100, 100);
   };
  
   leftLeg = function() {
     draw (60, 70, 20, 100);
   };
  
  drawArray = [rightLeg, leftLeg, rightArm, leftArm,  torso,  head, frame4, frame3, frame2, frame1]; 


  // OnClick Function
   check = function () {
    list.onclick = function () {
      var geuss = (this.innerHTML);
      this.setAttribute("class", "active");
      this.onclick = null;
      for (var i = 0; i < word.length; i++) {
        if (word[i] === geuss) {
          geusses[i].innerHTML = geuss;
          counter += 1;
        } 
      }
      var j = (word.indexOf(geuss));
      if (j === -1) {
        lives -= 1;
        comments();
        animate();
      } else {
        comments();
      }
    }
  }
  
    
  // Play
  play = function () {
    categories = [
        ["omeprazole", "bisoprolol", "citalopram", "gaviscon", "lactulose", "tamsulosin", "paracteamol"],
      //SECTION2
        ["nifedipine", "tacrolimus", "gabapentin", "diazepam", "mirtazapine"],
      //SECTION3
        ["fluticasone", "pantoprazole", "adrenaline", "caspofungin", "ibuprofen"]
    ];

    chosenCategory = categories[Math.floor(Math.random() * categories.length)];
    word = chosenCategory[Math.floor(Math.random() * chosenCategory.length)];
    word = word.replace(/\s/g, "-");
    console.log(word);
    buttons();

    geusses = [ ];
    lives = 10;
    counter = 0;
    space = 0;
    result();
    comments();
    selectCat();
    canvas();
  }

  play();
  
  // Hint

    hint.onclick = function() {

      //SECTION 1 HINTS
      hints = [
        ["Used to protech the stomach lining", "A common cardiac medicine", "Used to treat depression","Buy this over the counter for heartburn treatment", "A common laxtative", "Urology medicine", "Common pain killer"],
        //SECTION 2 HINTS
        ["Used for treatment  of angina or high blood pressure", "Medications to prevent rejection of a kidney,heart or liver transplant", "Used for the treatment of neuropathic pain","Can be used to treat anxiety, muscle spasms and fits (seizures).","Used to treat depression and sometimes obsessive compulsive disorder and anxiety disorders."],
        //SECTION 3 HINTS
        ["A nasal spray thct is used to treat sneezing, itchy or runny nose, or other symptoms caused by hay fever", "helps treat painful symptoms caused by conditions such as gastroesophageal reflux disease (GERD)", "Used in Cardiac arrests", "IV antifungal medicine", "OTC NSAID"]
    ];

    var catagoryIndex = categories.indexOf(chosenCategory);
    var hintIndex = chosenCategory.indexOf(word);
    showClue.innerHTML = "Clue: - " +  hints [catagoryIndex][hintIndex];
  };

   // Reset

  document.getElementById('reset').onclick = function() {
    correct.parentNode.removeChild(correct);
    letters.parentNode.removeChild(letters);
    showClue.innerHTML = "";
    context.clearRect(0, 0, 400, 400);
    play();
  }
}
</script>
